if [[ $1 == "" ]]; then 
    exit 1
fi

length=`nmcli connection | head -n 1 | awk '{print index($0,"UUID")}'`

counter=0
IFS=$'\n'
# for loop with spaces in for
for each_connection in `nmcli connection | cut -c1-$(( length -1 )) | tail -n +2 `; do
	counter=$(( counter + 1 ))
    if [[ $counter == $1 ]]; then
	    echo "attempt to connect to: "$each_connection
        nmcli device wifi connect `echo $each_connection | awk '{print $1}'`    
        exit 0
    fi
done
unset IFS
echo "attempt to connect to "
nmcli device wifi connect $each_connection    
