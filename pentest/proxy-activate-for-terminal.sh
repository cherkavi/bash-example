#!/bin/bash

# Function to display usage
usage() {
    echo "Usage: $0 [http|https|socks] [proxy_address:port]"
    echo "Example: $0 http  192.168.1.100:8080"
    echo "Example: $0 https 192.168.1.100:8080"
    echo "Example: $0 socks 192.168.1.100:1080"
    exit 1
}

# Check if the correct number of arguments is provided
if [ "$#" -ne 2 ]; then
    usage
    exit 2
fi

# Get the proxy type and address
PROXY_TYPE=$1
PROXY_ADDRESS=$2

# Activate the proxy based on the type
case $PROXY_TYPE in
    http)
        export http_proxy="http://$PROXY_ADDRESS"
        export https_proxy="http://$PROXY_ADDRESS"
        export no_proxy="localhost,127.0.0.1"
        echo "HTTP Proxy activated: $http_proxy"
        ;;
    https)
        export http_proxy="https://$PROXY_ADDRESS"
        export https_proxy="https://$PROXY_ADDRESS"
        export no_proxy="localhost,127.0.0.1"
        echo "HTTPs Proxy activated: $http_proxy"
        ;;
    socks)
        export ALL_PROXY="socks://$PROXY_ADDRESS"
        echo "SOCKS Proxy activated: $ALL_PROXY"
        ;;
    *)
        usage
        ;;
esac

# curl -I http://example.com
